# å¿«é€Ÿå¼€å§‹æŒ‡å— - WebSocket Screen Streamer å¤šå®ä¾‹ç‰ˆæœ¬

## å½“å‰åŠŸèƒ½çŠ¶æ€

### âœ… å·²å®Œæˆå¹¶å¯ç”¨çš„åŠŸèƒ½

1. **é…ç½®ç®¡ç†ç³»ç»Ÿ**
   - æ‰«æå’ŒåŠ è½½é…ç½®æ–‡ä»¶
   - æ·»åŠ ã€åˆ é™¤ã€æ›´æ–°é…ç½®
   - é…ç½®éªŒè¯å’Œå…ƒæ•°æ®ç®¡ç†

2. **å¤šå®ä¾‹ç®¡ç†ç³»ç»Ÿ**
   - åˆ›å»ºå’Œç®¡ç†å¤šä¸ªæ¨æµå®ä¾‹
   - æ¯ä¸ªå®ä¾‹ç‹¬ç«‹è¿è¡Œï¼ˆç‹¬ç«‹ç«¯å£å’Œè¿›ç¨‹ï¼‰
   - å¯åŠ¨ã€åœæ­¢ã€é‡å¯å®ä¾‹
   - å®ä¾‹çŠ¶æ€ç›‘æ§

3. **Windows æ‰˜ç›˜åº”ç”¨**
   - ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡
   - å³é”®èœå•
   - é…ç½®æ–‡ä»¶å¤¹å¿«é€Ÿè®¿é—®

4. **å‘åå…¼å®¹**
   - ä¿ç•™åŸæœ‰çš„å•å®ä¾‹å‘½ä»¤è¡Œæ¨¡å¼
   - æ— ç¼å‡çº§ï¼Œä¸å½±å“ç°æœ‰ä½¿ç”¨

## å®‰è£…å’Œæµ‹è¯•

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt
```

**æ³¨æ„**: å¦‚æœæŸäº›åº“å®‰è£…å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ï¼š
```bash
# åˆ†åˆ«å®‰è£…
pip install websockets flask flask-sock
pip install pystray Pillow PyQt5
pip install pyinstaller
```

### 2. å‡†å¤‡é…ç½®æ–‡ä»¶

#### æ–¹æ³•A: ä½¿ç”¨ç¤ºä¾‹é…ç½®ï¼ˆæ¨èæ–°æ‰‹ï¼‰

```bash
# é…ç½®ç›®å½•å·²åˆ›å»ºï¼ŒåŒ…å«ç¤ºä¾‹é…ç½®
configs/
â””â”€â”€ example-screen.json
```

#### æ–¹æ³•B: å¤åˆ¶å¹¶ä¿®æ”¹é…ç½®

```bash
# å¤åˆ¶ç¤ºä¾‹é…ç½®
cp config/config.example.json configs/my-camera.json

# ç¼–è¾‘é…ç½®æ–‡ä»¶
notepad configs/my-camera.json  # Windows
# æˆ–
vim configs/my-camera.json      # Linux/Mac
```

### 3. æµ‹è¯•æ‰˜ç›˜æ¨¡å¼

```bash
# å¯åŠ¨æ‰˜ç›˜åº”ç”¨
python -m src.main --tray
```

**é¢„æœŸç»“æœ**:
- âœ… ç³»ç»Ÿæ‰˜ç›˜å‡ºç°è“è‰²å›¾æ ‡
- âœ… æ§åˆ¶å°æ˜¾ç¤º: "âœ… æ‰˜ç›˜åº”ç”¨å·²å¯åŠ¨"
- âœ… å³é”®æ‰˜ç›˜å›¾æ ‡æ˜¾ç¤ºèœå•

**æ‰˜ç›˜èœå•åŠŸèƒ½**:
- æ˜¾ç¤ºä¸»ç•Œé¢ (å½“å‰æ¡†æ¶ï¼Œå¾…å®Œå–„GUI)
- æ·»åŠ é…ç½® (å½“å‰æ¡†æ¶ï¼Œå¾…å®Œå–„)
- å¯åŠ¨æ‰€æœ‰å®ä¾‹ (å¾…å®ç°)
- **åœæ­¢æ‰€æœ‰å®ä¾‹** (âœ… å¯ç”¨)
- **æ‰“å¼€é…ç½®æ–‡ä»¶å¤¹** (âœ… å¯ç”¨)
- é€€å‡º (âœ… å¯ç”¨)

### 4. æµ‹è¯•å•å®ä¾‹æ¨¡å¼ï¼ˆåŸæœ‰åŠŸèƒ½ï¼‰

```bash
# ä½¿ç”¨åŸæœ‰æ¨¡å¼å¯åŠ¨å•ä¸ªå®ä¾‹
python -m src.main --config configs/example-screen.json
```

**é¢„æœŸç»“æœ**:
- âœ… å¯åŠ¨ WebSocket æœåŠ¡å™¨
- âœ… ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥
- âœ… ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥æ—¶è‡ªåŠ¨å¯åŠ¨ FFmpeg

## å½“å‰é™åˆ¶

### ğŸ”´ æš‚ä¸å¯ç”¨çš„åŠŸèƒ½

1. **GUI ä¸»çª—å£** - æœªå®ç°
   - æ— æ³•é€šè¿‡æ‰˜ç›˜èœå•"æ˜¾ç¤ºä¸»ç•Œé¢"æ‰“å¼€çª—å£
   - éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œæˆ–ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶

2. **æ·»åŠ é…ç½®å¯¹è¯æ¡†** - æœªå®ç°
   - éœ€è¦æ‰‹åŠ¨å¤åˆ¶é…ç½®æ–‡ä»¶åˆ° `configs/` ç›®å½•
   - ç„¶åé‡å¯æ‰˜ç›˜åº”ç”¨

3. **å®ä¾‹åˆ—è¡¨æ˜¾ç¤º** - æœªå®ç°
   - æ— æ³•é€šè¿‡GUIæŸ¥çœ‹æ‰€æœ‰å®ä¾‹çŠ¶æ€
   - éœ€è¦ç›´æ¥æ“ä½œæˆ–æŸ¥çœ‹æ—¥å¿—

### ğŸŸ¡ éƒ¨åˆ†å¯ç”¨çš„åŠŸèƒ½

1. **å®ä¾‹ç®¡ç†**
   - âœ… æ ¸å¿ƒé€»è¾‘å®Œå…¨å¯ç”¨
   - âš ï¸ æš‚æ—¶éœ€è¦é€šè¿‡ä»£ç è°ƒç”¨
   - âš ï¸ æ²¡æœ‰GUIç•Œé¢æ“ä½œ

2. **æ‰˜ç›˜åº”ç”¨**
   - âœ… æ‰˜ç›˜å›¾æ ‡å’Œèœå•å¯ç”¨
   - âš ï¸ éƒ¨åˆ†èœå•é¡¹åªæœ‰æ¡†æ¶

## å·¥ä½œæµç¨‹ç¤ºä¾‹

### åœºæ™¯1: ä½¿ç”¨æ‰˜ç›˜æ¨¡å¼ç®¡ç†å•ä¸ªå®ä¾‹

```bash
# 1. å‡†å¤‡é…ç½®
cp config/config.example.json configs/camera-1.json

# 2. ç¼–è¾‘é…ç½®ï¼ˆä¿®æ”¹ä¸ºä½ çš„æ‘„åƒå¤´é…ç½®ï¼‰
notepad configs/camera-1.json

# 3. å¯åŠ¨æ‰˜ç›˜åº”ç”¨
python -m src.main --tray

# 4. å³é”®æ‰˜ç›˜å›¾æ ‡
# -> é€‰æ‹© "æ‰“å¼€é…ç½®æ–‡ä»¶å¤¹" æŸ¥çœ‹é…ç½®
# -> æ·»åŠ æ›´å¤šé…ç½®æ–‡ä»¶
# -> é‡å¯æ‰˜ç›˜åº”ç”¨ä»¥åŠ è½½æ–°é…ç½®
```

### åœºæ™¯2: é€šè¿‡ä»£ç ç®¡ç†å®ä¾‹

```python
from src.config.config_manager import ConfigManager
from src.instance.instance_manager import InstanceManager

# åˆ›å»ºç®¡ç†å™¨
config_manager = ConfigManager("configs")
instance_manager = InstanceManager(config_manager)

# æ‰«æé…ç½®
configs = config_manager.scan_configs()
print(f"æ‰¾åˆ° {len(configs)} ä¸ªé…ç½®")

# åˆ›å»ºå¹¶å¯åŠ¨å®ä¾‹
for config in configs:
    if config.is_valid:
        instance = instance_manager.create_instance(config.name)
        instance_manager.start_instance(config.name)
        print(f"âœ… å¯åŠ¨å®ä¾‹: {config.name}")

# æŸ¥çœ‹çŠ¶æ€
infos = instance_manager.get_all_infos()
for info in infos:
    print(f"{info.name}: {info.status.value}, ç«¯å£: {info.port}")

# åœæ­¢æ‰€æœ‰å®ä¾‹
instance_manager.stop_all()
```

## æ•…éšœæ’æŸ¥

### é—®é¢˜1: å¯¼å…¥é”™è¯¯

```
ImportError: No module named 'pystray'
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
pip install pystray Pillow
```

### é—®é¢˜2: é…ç½®æ–‡ä»¶æœªåŠ è½½

```
æ‰¾åˆ° 0 ä¸ªé…ç½®æ–‡ä»¶
```

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `configs/` ç›®å½•æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦ä¸º `.json` æ ¼å¼
- é…ç½®æ–‡ä»¶ä¸èƒ½æ˜¯ `.example.json`

### é—®é¢˜3: æ‰˜ç›˜å›¾æ ‡ä¸æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æ˜¯å¦å®‰è£…äº† `pystray`
- Windows å¯èƒ½éœ€è¦åœ¨ä»»åŠ¡æ è®¾ç½®ä¸­å¯ç”¨æ‰˜ç›˜å›¾æ ‡
- æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### é—®é¢˜4: FFmpeg å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `ffmpeg/` ç›®å½•ä¸‹æ˜¯å¦æœ‰ `ffmpeg.exe`
- æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„ FFmpeg è·¯å¾„æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶äº†è§£è¯¦ç»†é”™è¯¯

## ä¸‹ä¸€æ­¥

### çŸ­æœŸç›®æ ‡ï¼ˆå·²å®Œæˆ âœ…ï¼‰

- âœ… æ ¸å¿ƒé€»è¾‘å®ç°
- âœ… æ‰˜ç›˜åº”ç”¨æ¡†æ¶
- âœ… åŸºç¡€é›†æˆ

### ä¸­æœŸç›®æ ‡ï¼ˆè¿›è¡Œä¸­ ğŸŸ¡ï¼‰

- ğŸŸ¡ GUI ä¸»çª—å£
- ğŸŸ¡ é…ç½®æ·»åŠ å¯¹è¯æ¡†
- ğŸŸ¡ å®ä¾‹åˆ—è¡¨æ˜¾ç¤º

### é•¿æœŸç›®æ ‡ï¼ˆè®¡åˆ’ä¸­ ğŸ”µï¼‰

- ğŸ”µ æ—¥å¿—æŸ¥çœ‹å™¨
- ğŸ”µ èµ„æºç›‘æ§
- ğŸ”µ æ‰“åŒ…ä¸º exe

## è´¡çŒ®

å¦‚æœä½ æƒ³è¦å¸®åŠ©å¼€å‘ï¼Œå½“å‰æœ€éœ€è¦çš„æ˜¯ï¼š

1. **GUI å¼€å‘** - PyQt5 ä¸»çª—å£å’Œå¯¹è¯æ¡†
2. **æµ‹è¯•** - ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
3. **æ–‡æ¡£** - å®Œå–„ç”¨æˆ·æ–‡æ¡£å’Œå¼€å‘æ–‡æ¡£

## åé¦ˆ

å¦‚æœä½ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š

1. æ£€æŸ¥ `IMPLEMENTATION_PROGRESS.md` äº†è§£å½“å‰è¿›åº¦
2. æŸ¥çœ‹ `logs/` ç›®å½•ä¸‹çš„æ—¥å¿—æ–‡ä»¶
3. æäº¤ Issue æˆ– Pull Request

---

**æœ€åæ›´æ–°**: 2025-01-09
**ç‰ˆæœ¬**: 0.5.0-alpha
**çŠ¶æ€**: æ¸è¿›å¼å¼€å‘ä¸­
